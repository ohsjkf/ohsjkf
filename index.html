<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Green Hamster Clicker</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>

    <h1>üåø Green Hamster Clicker üåø</h1>
    <p>üí∞ –ë–∞–ª–∞–Ω—Å: <span id="money">0</span></p>
    <button id="click-button" onclick="game.earnMoney()">üêπ –ö–ª–∏–∫ (+<span id="click-power">1</span>)</button>

    <h2>üè¢ –ë–∏–∑–Ω–µ—Å—ã</h2>
    <div id="business-container"></div>

    <h2>ü§ñ –ë–æ–π —Å –•–û–ú–û-–±–æ—Ç–æ–º</h2>
    <button id="start-battle" onclick="pvpGame.startBattle()">üî• –ù–∞—á–∞—Ç—å –±–æ–π</button>

    <div id="battle-container" style="display: none;">
        <p>‚ù§Ô∏è –¢–≤–æ–∏ –æ—á–∫–∏ –∑–¥–æ—Ä–æ–≤—å—è: <span id="player-hp">100</span></p>
        <p>ü§ñ –ó–¥–æ—Ä–æ–≤—å–µ –±–æ—Ç–∞: <span id="bot-hp">100</span></p>
        <p id="battle-log"></p> <!-- –õ–æ–≥ –±–æ—è -->

        <div class="battle-buttons">
            <button onclick="pvpGame.playerAttackAction()">‚öîÔ∏è –ê—Ç–∞–∫–æ–≤–∞—Ç—å</button>
            <button onclick="pvpGame.biteAction()">ü¶∑ –©–µ–ª–∫–Ω—É—Ç—å –∑—É–±–∞–º–∏</button>
            <button onclick="pvpGame.clawAction()">üêæ –í—ã—Ç–∞—â–∏—Ç—å –∫–æ–≥—Ç–∏</button>
            <button onclick="pvpGame.surrender()">üè≥Ô∏è –°–¥–∞—Ç—å—Å—è</button>
        </div>
    </div>

    <script>
        const game = {
            money: 0,
            businesses: [
                { name: "–ö–∞—Ñ–µ ¬´–£ –•–æ–º—ã¬ª", price: 100, income: 10 },
                { name: "–ó–æ–æ–ø–∞—Ä–∫ –•–æ–º—è–∫–æ–≤", price: 1000, income: 75 },
                { name: "–•–æ–º—è—á—å—è –∫–∞—á–∞–ª–∫–∞", price: 5000, income: 300 },
                { name: "–ê–ó–° ¬´–•–æ–º—è–∫¬ª", price: 10000, income: 500 },
                { name: "–®–∫–æ–ª–∞ ¬´–•–æ–º–∞ —Å–∞–ø–∏–µ–Ω—Å¬ª", price: 50000, income: 2000 },
                { name: "–ê–≤—Ç–æ—Å–∞–ª–æ–Ω ¬´–ù–∞ —Ö–æ–º—è–∫–µ¬ª", price: 100000, income: 3500 },
                { name: "–ò–≥—Ä–∞ ¬´Hamster Combat¬ª", price: 250000, income: 7500 }
            ],

            earnMoney: function() {
                this.money += 1;
                document.getElementById("money").textContent = this.money;
            },

            loadBusinesses: function() {
                const container = document.getElementById("business-container");
                container.innerHTML = "";
                this.businesses.forEach((biz, index) => {
                    const btn = document.createElement("button");
                    btn.textContent = `${biz.name} - üí∞${biz.price}`;
                    btn.onclick = () => game.buyBusiness(index);
                    container.appendChild(btn);
                });
            },

            buyBusiness: function(index) {
                let biz = this.businesses[index];
                if (this.money >= biz.price) {
                    this.money -= biz.price;
                    document.getElementById("money").textContent = this.money;
                    setInterval(() => {
                        this.money += biz.income;
                        document.getElementById("money").textContent = this.money;
                    }, 1000);
                }
            }
        };

        const pvpGame = {
            player: {
                hp: 100,
                attack: 10,
                buffTeeth: false,
                buffClaws: false
            },
            bot: {
                hp: 100,
                attack: 10,
                blockChance: 20
            },

            startBattle: function() {
                document.getElementById("battle-container").style.display = "block";
                this.player.hp = 100;
                this.bot.hp = 100;
                this.player.buffTeeth = false;
                this.player.buffClaws = false;
                this.updateUI();
                document.getElementById("battle-log").textContent = "";
            },

            playerAttackAction: function() {
                if (Math.random() < 0.2) { // 20% —à–∞–Ω—Å –ø–∞–¥–µ–Ω–∏—è
                    document.getElementById("battle-log").textContent = "üòµ –•–æ–º—è–∫ —É–ø–∞–ª!";
                    setTimeout(() => this.botTurn(), 1000); // –ó–∞–¥–µ—Ä–∂–∫–∞ –ø–µ—Ä–µ–¥ –∞—Ç–∞–∫–æ–π –±–æ—Ç–∞
                    return;
                }

                let damage = this.player.attack;
                if (this.player.buffTeeth) {
                    damage += 5;
                }

                if (Math.random() * 100 > this.bot.blockChance) {
                    this.bot.hp -= damage;
                    document.getElementById("battle-log").textContent = `–¢—ã –∞—Ç–∞–∫–æ–≤–∞–ª! –ë–æ—Ç –ø–æ—Ç–µ—Ä—è–ª ${damage} –∑–¥–æ—Ä–æ–≤—å—è.`;
                } else {
                    document.getElementById("battle-log").textContent = "üõ°Ô∏è –ë–æ—Ç –∑–∞–±–ª–æ–∫–∏—Ä–æ–≤–∞–ª –∞—Ç–∞–∫—É!";
                }

                this.checkBattleEnd();
                if (this.bot.hp > 0) {
                    setTimeout(() => this.botTurn(), 1000); // –ó–∞–¥–µ—Ä–∂–∫–∞ –ø–µ—Ä–µ–¥ –∞—Ç–∞–∫–æ–π –±–æ—Ç–∞
                }
            },

            biteAction: function() {
                if (!this.player.buffTeeth) {
                    this.player.buffTeeth = true;
                    document.getElementById("battle-log").textContent = "ü¶∑ –¢—ã —â–µ–ª–∫–Ω—É–ª –∑—É–±–∞–º–∏, —É—Ä–æ–Ω –∞—Ç–∞–∫–∏ —É–≤–µ–ª–∏—á–µ–Ω!";
                } else {
                    document.getElementById("battle-log").textContent = "‚ùå –¢—ã —É–∂–µ —â–µ–ª–∫–Ω—É–ª –∑—É–±–∞–º–∏!";
                }
            },

            clawAction: function() {
                if (!this.player.buffClaws) {
                    this.player.buffClaws = true;
                    this.bot.blockChance -= 10;
                    document.getElementById("battle-log").textContent = "üêæ –¢—ã –≤—ã—Ç–∞—â–∏–ª –∫–æ–≥—Ç–∏! –ë–ª–æ–∫ –ø—Ä–æ—Ç–∏–≤–Ω–∏–∫–∞ –æ—Å–ª–∞–±–ª–µ–Ω.";
                } else {
                    document.getElementById("battle-log").textContent = "‚ùå –¢—ã —É–∂–µ –≤—ã—Ç–∞—â–∏–ª –∫–æ–≥—Ç–∏!";
                }
            },

            botTurn: function() {
                let damage = this.bot.attack;
                this.player.hp -= damage;
                document.getElementById("battle-log").textContent += `\nü§ñ –ë–æ—Ç –∞—Ç–∞–∫–æ–≤–∞–ª! –¢—ã –ø–æ—Ç–µ—Ä—è–ª ${damage} –∑–¥–æ—Ä–æ–≤—å—è.`;
                this.checkBattleEnd();
            },

            surrender: function() {
                document.getElementById("battle-log").textContent = "üò° –•–æ–º—è–∫–∏ –Ω–µ —Å–¥–∞—é—Ç—Å—è! –ë–æ–π –ø—Ä–æ–¥–æ–ª–∂–∞–µ—Ç—Å—è.";
            },

            checkBattleEnd: function() {
                if (this.player.hp <= 0) {
                    document.getElementById("battle-log").textContent = "‚ò†Ô∏è –¢—ã –ø—Ä–æ–∏–≥—Ä–∞–ª!";
                    setTimeout(() => {
                        document.getElementById("battle-container").style.display = "none";
                    }, 2000);
                } else if (this.bot.hp <= 0) {
                    document.getElementById("battle-log").textContent = "üèÜ –¢—ã –ø–æ–±–µ–¥–∏–ª!";
                    setTimeout(() => {
                        document.getElementById("battle-container").style.display = "none";
                    }, 2000);
                }
                this.updateUI();
            },

            updateUI: function() {
                document.getElementById("player-hp").textContent = this.player.hp;
                document.getElementById("bot-hp").textContent = this.bot.hp;
            }
        };

        game.loadBusinesses();
    </script>

</body>
</html>
